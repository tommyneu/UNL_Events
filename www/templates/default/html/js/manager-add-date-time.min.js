function isUrlValid(a){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)}require(["jquery"],function(r){r("#add-datetime-form").submit(function(a){let t=[];""==r("#start-date").val()&&(""==r("#start-date").val()&&notifier.mark_input_invalid(r("#start-date")),t.push('<a href="#location">Location</a> and <a href="#start-date">start date</a> are required.'));var e,i,n,u=new Date(r("#start-date").val());""!=r("#start-date").val()&&""!=r("#end-date").val()&&(e=new Date(r("#end-date").val()),i=r("#start-time-am-pm-pm").is(":checked")?"pm":"am",n=""!=r("#start-time-hour").val()?parseInt(r("#start-time-hour").val())%12:0,n="pm"==i?n+12:n,i=""!=r("#start-time-minute").val()?parseInt(r("#start-time-minute").val()):0,u.setHours(n),u.setMinutes(i),n=r("#end-time-am-pm-pm").is(":checked")?"pm":"am",i=""!=r("#end-time-hour").val()?parseInt(r("#end-time-hour").val())%12:0,i="pm"==n?i+12:i,n=""!=r("#end-time-minute").val()?parseInt(r("#end-time-minute").val()):0,e.setHours(i),e.setMinutes(n),e<u&&(notifier.mark_input_invalid(r("#end-date")),t.push('Your <a href="#end-date">end date/time</a> must be on or after the <a href="#start-date">start date/time</a>.'))),""!=r("#start-date").val()&&r("#recurring").is(":checked")&&(""!=r("#recurring-type").val()&&""!=r("#recurs-until-date").val()||(""==r("#recurring-type").val()&&notifier.mark_input_invalid(r("#recurring-type")),""==r("#recurs-until-date").val()&&notifier.mark_input_invalid(r("#recurs-until-date")),t.push('Recurring events require a <a href="#recurring-type">recurring type</a> and <a href="#recurs-until-date">date</a> that they recur until.')),""!=r("#end-date").val()&&(i=new Date(r("#start-date").val()),n=new Date(r("#end-date").val()),i&&n&&i.getDate()!=n.getDate()&&t.push("A recurring event instance start and end date must be the same day. If you need multiple multi-day (ongoing) occurrences, you must define them as separate datetime instances.")),u.setHours(0),u.setMinutes(0),new Date(r("#recurs-until-date").val())<u&&(notifier.mark_input_invalid(r("#recurs-until-date")),t.push('The <a href="#recurs-until-date">"recurs until date"</a> must be on or after the start date.'))),"1"==r("#physical_location_check").val()&&("new"==r("#location").val()&&""==r("#location-name").val()&&(notifier.mark_input_invalid(r("#location-name")),t.push('You must give your new location a <a href="#location-name">name</a>.')),"new"==r("#location").val()&&""==r("#location-address-1").val()&&(notifier.mark_input_invalid(r("#location-address-1")),t.push('You must give your new location a <a href="#location-address-1">address</a>.')),"new"==r("#location").val()&&""==r("#location-city").val()&&(notifier.mark_input_invalid(r("#location-city")),t.push('You must give your new location a <a href="#location-city">city</a>.')),"new"==r("#location").val()&&""==r("#location-state").val()&&(notifier.mark_input_invalid(r("#location-state")),t.push('You must give your new location a <a href="#location-state">state</a>.')),"new"==r("#location").val()&&""==r("#location-zip").val()&&(notifier.mark_input_invalid(r("#location-zip")),t.push('You must give your new location a <a href="#location-zip">zip</a>.')),"new"!=r("#location").val()||""===r("#location-webpage").val()||isUrlValid(r("#location-webpage").val())||(notifier.mark_input_invalid(r("#location-webpage")),t.push('<a href="#location-webpage"> Location URL</a> is not a valid URL.'))),"1"==r("#virtual_location_check").val()&&("new"==r("#v-location").val()&&""==r("#new-v-location-name").val()&&(notifier.mark_input_invalid(r("#new-v-location-name")),t.push('You must give your new virtual location a <a href="#new-v-location-name">name</a>.')),"new"==r("#v-location").val()&&""==r("#new-v-location-url").val()?(notifier.mark_input_invalid(r("#new-v-location-url")),t.push('You must give your new virtual location a <a href="#new-v-location-url">URL</a>.')):"new"!=r("#v-location").val()||""===r("#new-v-location-url").val()||isUrlValid(r("#new-v-location-url").val())||(notifier.mark_input_invalid(r("#new-v-location-url")),t.push('<a href="#new-v-location-url">Virtual Location URL</a> is not a valid URL.'))),0<t.length&&(a.preventDefault(),notifier.alert("Sorry! We couldn't create your event","<ul><li>"+t.join("</li><li>")+"</li></ul>"))})});