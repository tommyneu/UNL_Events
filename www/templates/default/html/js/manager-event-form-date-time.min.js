const location_buttons=document.querySelectorAll(".events-btn-location");function setUpLocationListeners(e){if("physical_location"==e){let e=document.getElementById("location");e.addEventListener("change",()=>{"new"==e.value?document.getElementById("new-location-fields").style.display="block":document.getElementById("new-location-fields").style.display="none"}),"new"==e.value?document.getElementById("new-location-fields").style.display="block":document.getElementById("new-location-fields").style.display="none"}else if("virtual_location"==e){let e=document.getElementById("v-location");e.addEventListener("change",()=>{"new"==e.value?document.getElementById("new-v-location-fields").style.display="block":document.getElementById("new-v-location-fields").style.display="none"}),"new"==e.value?document.getElementById("new-v-location-fields").style.display="block":document.getElementById("new-v-location-fields").style.display="none"}}location_buttons.forEach(n=>{n.addEventListener("click",()=>{if("true"===n.dataset.add){n.dataset.add="false",n.innerHTML=n.innerHTML.replace("Add","Remove"),n.classList.remove("dcf-btn-primary"),n.classList.add("dcf-btn-secondary"),document.querySelector(`input[type='hidden'][name='${n.dataset.controls}_check']`).value="1";const t=document.getElementById(n.dataset.controls+"_template");var e=t.content.cloneNode("true");document.getElementById(n.dataset.controls+"_container").append(e),setUpLocationListeners(n.dataset.controls)}else n.dataset.add="true",n.innerHTML=n.innerHTML.replace("Remove","Add"),n.classList.remove("dcf-btn-secondary"),n.classList.add("dcf-btn-primary"),document.querySelector(`input[type='hidden'][name='${n.dataset.controls}_check']`).value="0",document.getElementById(n.dataset.controls+"_container").innerHTML=""}),"1"==document.querySelector(`input[type='hidden'][name='${n.dataset.controls}_check']`).value&&n.click()});const ordinal=function(e){var t=e%100;return 11<=t&&t<=13?e+"th":t%10==1?e+"st":t%10==2?e+"nd":t%10==3?e+"rd":e+"th"},setRecurringOptions=(Date.prototype.isValid=function(){return!isNaN(this.getTime())},function(d,c,i){if(d.val()){var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let l=new Date(d.val());if(l.isValid()){var s=l.getFullYear(),u=l.getMonth()+1,y=l.getDate(),p=r[l.getDay()];const m={1:"First",2:"Second",3:"Third",4:"Fourth",5:"Last"};let e=28,t=new Date(s,u-1,28);for(;e==t.getDate();)t=new Date(s,u-1,++e);e--;let n=0,o=0;for(let t=1;t<=e;t++){let e=new Date(s,u-1,t);r[e.getDay()]==p&&t<=y&&n++,r[e.getDay()]==p&&o++}c.children(".dynamicRecurring").remove();let a="";null!=m[n]&&(i==m[n].toLowerCase()&&(a=' selected="selected" '),c.prepend("<option class='dynamicRecurring' "+a+"value='"+m[n].toLowerCase()+"'>"+m[n]+" "+p+" of every month</option>")),4==n&&4==o&&("last"==i&&(a=' selected="selected" '),c.prepend("<option class='dynamicRecurring' "+a+"value='last'>Last "+p+" of every month</option>")),e==y&&("lastday"==i&&(a=' selected="selected" '),c.prepend("<option class='dynamicRecurring' "+a+"value='lastday'>Last day of every month</option>"));d=ordinal(y)+" of every month";"date"==i&&(a=' selected="selected" '),c.prepend("<option class='dynamicRecurring' "+a+"value='date'>"+d+"</option>")}}});require(["jquery","wdn"],function(e,t){t.initializePlugin("datepickers"),e("#recurring").change(function(){this.checked&&setRecurringOptions(e("#start-date"),e("#monthly-group"),recurringType)}),""==recurringMonth?(e("#start-date").change(function(){setRecurringOptions(e(this),e("#monthly-group"),recurringType)}),setRecurringOptions(e("#start-date"),e("#monthly-group")),e("#recurring-type").val(recurringType)):(e("#start-date").change(function(){setRecurringOptions(e(this),e("#monthly-group"),recurringMonth)}),setRecurringOptions(e("#start-date"),e("#monthly-group"),recurringMonth))});