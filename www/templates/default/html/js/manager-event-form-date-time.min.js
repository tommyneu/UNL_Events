const location_buttons=document.querySelectorAll(".events-btn-location");function setUpLocationListeners(e){if("physical_location"==e){let e=document.getElementById("location");e.addEventListener("change",()=>{"new"==e.value?document.getElementById("new-location-fields").style.display="block":document.getElementById("new-location-fields").style.display="none"}),"new"==e.value?document.getElementById("new-location-fields").style.display="block":document.getElementById("new-location-fields").style.display="none"}else if("virtual_location"==e){let e=document.getElementById("v-location");e.addEventListener("change",()=>{"new"==e.value?document.getElementById("new-v-location-fields").style.display="block":document.getElementById("new-v-location-fields").style.display="none"}),"new"==e.value?document.getElementById("new-v-location-fields").style.display="block":document.getElementById("new-v-location-fields").style.display="none"}}location_buttons.forEach(n=>{n.addEventListener("click",()=>{if("true"===n.dataset.add){n.dataset.add="false",n.innerHTML=n.innerHTML.replace("Add","Remove"),n.classList.remove("dcf-btn-primary"),n.classList.add("dcf-btn-secondary"),document.querySelector(`input[type='hidden'][name='${n.dataset.controls}_check']`).value="1";const t=document.getElementById(n.dataset.controls+"_template");var e=t.content.cloneNode("true");document.getElementById(n.dataset.controls+"_container").append(e),setUpLocationListeners(n.dataset.controls)}else n.dataset.add="true",n.innerHTML=n.innerHTML.replace("Remove","Add"),n.classList.remove("dcf-btn-secondary"),n.classList.add("dcf-btn-primary"),document.querySelector(`input[type='hidden'][name='${n.dataset.controls}_check']`).value="0",document.getElementById(n.dataset.controls+"_container").innerHTML=""}),"1"==document.querySelector(`input[type='hidden'][name='${n.dataset.controls}_check']`).value&&n.click()});const ordinal=function(e){var t=e%100;return 11<=t&&t<=13?e+"th":t%10==1?e+"st":t%10==2?e+"nd":t%10==3?e+"rd":e+"th"},setRecurringOptions=(Date.prototype.isValid=function(){return!isNaN(this.getTime())},function(e,t,n){if(e.val()){var o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e=new Date(e.val());if(e.isValid()){for(var a=e.getFullYear(),r=e.getMonth()+1,d=e.getDate(),i=o[e.getDay()],e={1:"First",2:"Second",3:"Third",4:"Fourth",5:"Last"},c=28,l=new Date(a,r-1,28);c==l.getDate();)l=new Date(a,r-1,++c);c--;for(var s=0,u=0,y=1;y<=c;y++){var l=new Date(a,r-1,y);o[l.getDay()]==i&&y<=d&&s++,o[l.getDay()]==i&&u++}t.children(".dynamicRecurring").remove();var p="",e=(null!=e[s]&&(p="",n==e[s].toLowerCase()&&(p=' selected="selected" '),t.prepend("<option class='dynamicRecurring' "+p+"value='"+e[s].toLowerCase()+"'>"+e[s]+" "+i+" of every month</option>")),4==s&&4==u&&(p="",t.prepend("<option class='dynamicRecurring' "+(p="last"==n?' selected="selected" ':p)+"value='last'>Last "+i+" of every month</option>")),c==d&&(p="",t.prepend("<option class='dynamicRecurring' "+(p="lastday"==n?' selected="selected" ':p)+"value='lastday'>Last day of every month</option>")),ordinal(d)+" of every month"),p="";t.prepend("<option class='dynamicRecurring' "+(p="date"==n?' selected="selected" ':p)+"value='date'>"+e+"</option>")}}});require(["jquery","wdn"],function(e,t){t.initializePlugin("datepickers"),e("#recurring").change(function(){this.checked&&setRecurringOptions(e("#start-date"),e("#monthly-group"),recurringType)}),""==recurringMonth?(e("#start-date").change(function(){setRecurringOptions(e(this),e("#monthly-group"),recurringType)}),setRecurringOptions(e("#start-date"),e("#monthly-group")),e("#recurring-type").val(recurringType)):(e("#start-date").change(function(){setRecurringOptions(e(this),e("#monthly-group"),recurringMonth)}),setRecurringOptions(e("#start-date"),e("#monthly-group"),recurringMonth))});