function isUrlValid(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}const google_microdata_button=document.getElementById("google-microdata-button");function testMicrodata(e=!0){let t=!0;const n=document.getElementById("google-microdata-button"),a=document.getElementById("google-microdata-modal-output");let o="";var s=document.getElementById("title"),l=document.querySelectorAll('.occurrence[data-microdata="false"]'),i=document.getElementById("contact-name"),c=document.getElementById("contact-website"),r=document.querySelector('input[name="contact_type"]:checked');""==s.value&&(e&&(o+="<li>Missing title</li>"),t=!1),0<l.length&&(e&&(o+="<li>Some event instances do not pass our microdata check</li>"),t=!1),""===i.value&&""===c.value||(null===r&&(e&&(o+="<li>If organizer contact info is used the type must be specified</li>"),t=!1),(""!==i.value&&""===c.value||""===i.value&&""!==c.value)&&(e&&(o+="<li>Both the organizer name and organizer website must be set if either are used</li>"),t=!1)),t?(e&&(a.innerHTML="<span class='dcf-bold'>Your event is fulfilling all microdata requirements</span>"),n.innerHTML="Your event does reach microdata requirements",n.classList.remove("unl-bg-blue"),n.classList.add("unl-bg-green"),n.classList.remove("events-b-blue"),n.classList.add("events-b-green")):(e&&(a.innerHTML="<span class='dcf-bold'>Your event is missing these requirements:</span> <ul>"+o+"</ul>"),n.innerHTML="! Your event does not reach microdata requirements !",n.classList.add("unl-bg-blue"),n.classList.remove("unl-bg-green"),n.classList.add("events-b-blue"),n.classList.remove("events-b-green"))}document.addEventListener("ModalOpenEvent_"+google_microdata_button.dataset.togglesModal,()=>{testMicrodata(!0)}),document.addEventListener("click",e=>{testMicrodata(!1)}),document.addEventListener("input",e=>{testMicrodata(!1)}),testMicrodata(!1);